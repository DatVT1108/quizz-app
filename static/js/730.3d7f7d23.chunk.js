"use strict";(self.webpackChunkquizz_app=self.webpackChunkquizz_app||[]).push([[730],{7619:(e,t,l)=>{l.d(t,{A:()=>a});var s=l(2200),i=l(9044),r=l.n(i),n=l(2301),o=l(579);function a(e){let t,{options:l,question:i,selectedOption:a,setSelectedOption:c,correctOption:d}=e;return t=l&&0!==l.length?l.map((e=>{let t="h-10";return t+=a===e?" bg-green-300 text-white":"",d&&(d===e&&(t+=" bg-green-500 text-white"),d!==a&&a===e&&(t+=" bg-red-500 text-white")),(0,o.jsx)(s.Button,{className:t,variant:"outlined",color:"green",onClick:c?()=>c(e):void 0,children:r().decode(e)},e)})):(0,o.jsx)(n.A,{}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 mt-4",children:[(0,o.jsx)("p",{className:"font-bold text-xl",children:r().decode(i)}),(0,o.jsx)("div",{className:"flex flex-row gap-2 items-center justify-start",children:t})]})}},5730:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var s=l(2200),i=l(5043),r=l(7619),n=l(2301),o=l(3216);const a=e=>{for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[e[t],e[l]]=[e[l],e[t]]}return e};var c=l(3003),d=l(9893),u=l(579);function x(e){let{isLoading:t,isError:l,quizzes:x}=e;const h=(0,o.Zp)(),f=(0,c.wA)(),[g,p]=(0,i.useState)({});let v=Object.keys(g).length;const[m,j]=(0,i.useState)([]);let b;(0,i.useEffect)((()=>(x&&0!==x.length&&j((()=>{const e=[];for(const t of x){const l=[t.correct_answer,...t.incorrect_answers],s=a(l);e.push(s)}return e})),()=>p({}))),[x]),b=t?(0,u.jsx)(n.A,{}):l?(0,u.jsx)("div",{children:"Error loading quizzes"}):x.map(((e,t)=>(0,u.jsx)(r.A,{options:m[t],question:e.question,selectedOption:g[t]||null,setSelectedOption:e=>((e,t)=>{p((l=>({...l,[e]:t})))})(t,e)},t)));return(0,u.jsxs)("div",{className:"w-full flex flex-col gap-5",children:[b,(0,u.jsx)("div",{className:"flex",children:v===(null===x||void 0===x?void 0:x.length)&&(0,u.jsx)(s.Button,{className:"mt-4 mx-auto bg-gray-800 w-28",onClick:()=>{const e=x.map(((e,t)=>({...e,options:m[t],selected_answer:g[t]})));f((0,d.bE)(e)),h("/result")},children:"Submit"})})]})}var h=l(6685),f=l(8613);function g(){var e;const[t,l]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[o,a]=(0,i.useState)(!0),[c,d]=(0,i.useState)(!0);let g,p=f.Q.map((e=>(0,u.jsx)(s.Option,{value:e.value,children:e.option},e.value)));const{data:v,error:m,isLoading:j}=(0,h.S)();g=j?(0,u.jsx)("div",{children:"Loading category"}):m?(0,u.jsx)("div",{children:"Error load category"}):v.trivia_categories.map((e=>(0,u.jsx)(s.Option,{value:""+e.id,children:e.name},e.id)));const[b,y]=(0,h.lA)();return(0,u.jsxs)("div",{className:"flex flex-col items-center py-5 px-10",children:[(0,u.jsx)("h1",{className:"font-bold text-2xl",children:"Quiz Create"}),(0,u.jsxs)("form",{className:"w-full flex flex-row gap-2 py-4",onSubmit:e=>{e.preventDefault();let l=!0;t||(a(!1),l=!1),r||(d(!1),l=!1),l&&b({category:t,difficulty:r})},children:[(0,u.jsxs)("div",{className:"w-full h-16",children:[(0,u.jsx)(s.Select,{label:"Select category",onChange:e=>{l(e||""),a(!0)},name:"category",id:"categorySelect",error:!o,children:g}),o?"":(0,u.jsx)("p",{className:"text-sm text-red-600",children:"Please choose a category"})]}),(0,u.jsxs)("div",{className:"w-full h-16",children:[(0,u.jsx)(s.Select,{label:"Select difficulty",onChange:e=>{n(e||""),d(!0)},id:"difficultySelect",error:!c,children:p}),c?"":(0,u.jsx)("p",{className:"text-sm text-red-600",children:"Please choose a difficulty"})]}),(0,u.jsx)("button",{className:"h-10 w-20 px-4 rounded-lg border border-gray-600 hover:bg-gray-200",id:"createBtn",type:"submit",children:"Create"})]}),!y.isUninitialized&&(0,u.jsx)(x,{isLoading:(null===y||void 0===y?void 0:y.isLoading)||(null===y||void 0===y?void 0:y.isFetching),isError:null===y||void 0===y?void 0:y.isError,quizzes:null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.results})]})}}}]);
//# sourceMappingURL=730.3d7f7d23.chunk.js.map